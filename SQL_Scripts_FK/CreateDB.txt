-- Generated by Oracle SQL Developer Data Modeler 20.3.0.283.0710
--   at:        2021-01-16 23:21:50 CET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE ekonom (
    mbr_zap   VARCHAR2(15 CHAR) NOT NULL,
    ozn_std   VARCHAR2(10 CHAR) NOT NULL,
    evbr_klb  VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE ekonom ADD CONSTRAINT ekonom_pk PRIMARY KEY ( mbr_zap,
                                                          evbr_klb );

CREATE TABLE fudbalski_klub (
    evbr_klb  VARCHAR2(10 CHAR) NOT NULL,
    naz_klb   VARCHAR2(30 CHAR) NOT NULL,
    adr_klb   VARCHAR2(40 CHAR)
);

ALTER TABLE fudbalski_klub ADD CONSTRAINT fudbalski_klub_pk PRIMARY KEY ( evbr_klb );

CREATE TABLE igrač (
    mbr_igr      VARCHAR2(15 CHAR) NOT NULL,
    ime_igr      VARCHAR2(20 CHAR) NOT NULL,
    prz_igr      VARCHAR2(20 CHAR) NOT NULL,
    datrodj_igr  DATE
);

ALTER TABLE igrač ADD CONSTRAINT igrač_pk PRIMARY KEY ( mbr_igr );

CREATE TABLE kategorija (
    ozn_kat     VARCHAR2(10 CHAR) NOT NULL,
    naz_kat     VARCHAR2(20 CHAR) NOT NULL,
    mingod_kat  INTEGER,
    maxgod_kat  INTEGER
);

ALTER TABLE kategorija ADD CONSTRAINT kategorija_pk PRIMARY KEY ( ozn_kat );

CREATE TABLE lečenje (
    id_leč       INTEGER NOT NULL,
    počdat_leč   DATE,
    krajdat_leč  DATE,
    mbr_igr      VARCHAR2(15 CHAR) NOT NULL,
    id_pov       INTEGER NOT NULL
);

ALTER TABLE lečenje ADD CONSTRAINT lečenje_pk PRIMARY KEY ( id_leč,
                                                            mbr_igr );

CREATE TABLE leči (
    mbr_zap   VARCHAR2(15 CHAR) NOT NULL,
    evbr_klb  VARCHAR2(10 CHAR) NOT NULL,
    id_leč    INTEGER NOT NULL,
    mbr_igr   VARCHAR2(15 CHAR) NOT NULL
);

ALTER TABLE leči
    ADD CONSTRAINT leči_pk PRIMARY KEY ( mbr_zap,
                                         evbr_klb,
                                         id_leč,
                                         mbr_igr );

CREATE TABLE lekar (
    mbr_zap   VARCHAR2(15 CHAR) NOT NULL,
    br_lic    VARCHAR2(20 CHAR),
    evbr_klb  VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE lekar ADD CONSTRAINT lekar_pk PRIMARY KEY ( mbr_zap,
                                                        evbr_klb );

CREATE TABLE liga (
    ozn_lig   VARCHAR2(10 CHAR) NOT NULL,
    naz_lig   VARCHAR2(30 CHAR) NOT NULL,
    rang_lig  INTEGER,
    ozn_kat   VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE liga ADD CONSTRAINT liga_pk PRIMARY KEY ( ozn_lig );

CREATE TABLE stadion (
    ozn_std   VARCHAR2(10 CHAR) NOT NULL,
    naz_std   VARCHAR2(20 CHAR),
    adr_std   VARCHAR2(40 CHAR),
    evbr_klb  VARCHAR2(10 CHAR) NOT NULL
);

COMMENT ON COLUMN stadion.ozn_std IS
    '				';

ALTER TABLE stadion ADD CONSTRAINT stadion_pk PRIMARY KEY ( ozn_std );

CREATE TABLE tim (
    evbr_tim  VARCHAR2(10 CHAR) NOT NULL,
    evbr_klb  VARCHAR2(10 CHAR) NOT NULL,
    ozn_kat   VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE tim ADD CONSTRAINT tim_pk PRIMARY KEY ( evbr_tim );

CREATE TABLE tip_povrede (
    id_pov   INTEGER NOT NULL,
    naz_pov  VARCHAR2(30 CHAR) NOT NULL
);

ALTER TABLE tip_povrede ADD CONSTRAINT tip_povrede_pk PRIMARY KEY ( id_pov );

CREATE TABLE trener (
    mbr_zap   VARCHAR2(15 CHAR) NOT NULL,
    br_lic    VARCHAR2(20 CHAR),
    evbr_klb  VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE trener ADD CONSTRAINT trener_pk PRIMARY KEY ( mbr_zap,
                                                          evbr_klb );

CREATE TABLE trenira (
    mbr_zap   VARCHAR2(15 CHAR) NOT NULL,
    evbr_klb  VARCHAR2(10 CHAR) NOT NULL,
    evbr_tim  VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE trenira
    ADD CONSTRAINT trenira_pk PRIMARY KEY ( mbr_zap,
                                            evbr_klb,
                                            evbr_tim );

CREATE TABLE učestvuje (
    evbr_tim  VARCHAR2(10 CHAR) NOT NULL,
    ozn_lig   VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE učestvuje ADD CONSTRAINT učestvuje_pk PRIMARY KEY ( evbr_tim,
                                                                ozn_lig );

CREATE TABLE ugovor_igrača (
    id_ug       INTEGER NOT NULL,
    počdat_ug   DATE,
    krajdat_ug  DATE,
    mbr_igr     VARCHAR2(15 CHAR) NOT NULL,
    evbr_klb    VARCHAR2(10 CHAR) NOT NULL,
    evbr_tim    VARCHAR2(10 CHAR) NOT NULL,
    ozn_kat     VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE ugovor_igrača
    ADD CONSTRAINT ugovor_igrača_pk PRIMARY KEY ( mbr_igr,
                                                  id_ug,
                                                  evbr_klb );

CREATE TABLE utakmica (
    ozn_utk     VARCHAR2(10 CHAR) NOT NULL,
    rbr_kola    INTEGER,
    dat_utk     DATE,
    ozn_lig     VARCHAR2(10 CHAR) NOT NULL,
    ozn_std     VARCHAR2(10 CHAR) NOT NULL,
    brgol_dom   INTEGER,
    brgol_gost  INTEGER,
    evbr_timd   VARCHAR2(10 CHAR) NOT NULL,
    evbr_timg   VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE utakmica ADD CONSTRAINT utakmica_pk PRIMARY KEY ( ozn_utk );

CREATE TABLE zaposleni (
    mbr_zap   VARCHAR2(15 CHAR) NOT NULL,
    ime_zap   VARCHAR2(20) NOT NULL,
    prz_zap   VARCHAR2(20 CHAR) NOT NULL,
    tip_zap   VARCHAR2(20 CHAR),
    evbr_klb  VARCHAR2(10 CHAR) NOT NULL
);

ALTER TABLE zaposleni ADD CONSTRAINT zaposleni_pk PRIMARY KEY ( mbr_zap,
                                                                evbr_klb );

ALTER TABLE ekonom
    ADD CONSTRAINT ekonom_stadion_fk FOREIGN KEY ( ozn_std )
        REFERENCES stadion ( ozn_std );

ALTER TABLE ekonom
    ADD CONSTRAINT ekonom_zaposleni_fk FOREIGN KEY ( mbr_zap,
                                                     evbr_klb )
        REFERENCES zaposleni ( mbr_zap,
                               evbr_klb );

ALTER TABLE lečenje
    ADD CONSTRAINT lečenje_igrač_fk FOREIGN KEY ( mbr_igr )
        REFERENCES igrač ( mbr_igr );

ALTER TABLE lečenje
    ADD CONSTRAINT lečenje_tip_povrede_fk FOREIGN KEY ( id_pov )
        REFERENCES tip_povrede ( id_pov );

ALTER TABLE leči
    ADD CONSTRAINT leči_lečenje_fk FOREIGN KEY ( id_leč,
                                                 mbr_igr )
        REFERENCES lečenje ( id_leč,
                             mbr_igr );

ALTER TABLE leči
    ADD CONSTRAINT leči_lekar_fk FOREIGN KEY ( mbr_zap,
                                               evbr_klb )
        REFERENCES lekar ( mbr_zap,
                           evbr_klb );

ALTER TABLE lekar
    ADD CONSTRAINT lekar_zaposleni_fk FOREIGN KEY ( mbr_zap,
                                                    evbr_klb )
        REFERENCES zaposleni ( mbr_zap,
                               evbr_klb );

ALTER TABLE liga
    ADD CONSTRAINT liga_kategorija_fk FOREIGN KEY ( ozn_kat )
        REFERENCES kategorija ( ozn_kat );

ALTER TABLE stadion
    ADD CONSTRAINT stadion_fudbalski_klub_fk FOREIGN KEY ( evbr_klb )
        REFERENCES fudbalski_klub ( evbr_klb );

ALTER TABLE tim
    ADD CONSTRAINT tim_fudbalski_klub_fk FOREIGN KEY ( evbr_klb )
        REFERENCES fudbalski_klub ( evbr_klb );

ALTER TABLE tim
    ADD CONSTRAINT tim_kategorija_fk FOREIGN KEY ( ozn_kat )
        REFERENCES kategorija ( ozn_kat );

ALTER TABLE trener
    ADD CONSTRAINT trener_zaposleni_fk FOREIGN KEY ( mbr_zap,
                                                     evbr_klb )
        REFERENCES zaposleni ( mbr_zap,
                               evbr_klb );

ALTER TABLE trenira
    ADD CONSTRAINT trenira_tim_fk FOREIGN KEY ( evbr_tim )
        REFERENCES tim ( evbr_tim );

ALTER TABLE trenira
    ADD CONSTRAINT trenira_trener_fk FOREIGN KEY ( mbr_zap,
                                                   evbr_klb )
        REFERENCES trener ( mbr_zap,
                            evbr_klb );

ALTER TABLE učestvuje
    ADD CONSTRAINT učestvuje_liga_fk FOREIGN KEY ( ozn_lig )
        REFERENCES liga ( ozn_lig );

ALTER TABLE učestvuje
    ADD CONSTRAINT učestvuje_tim_fk FOREIGN KEY ( evbr_tim )
        REFERENCES tim ( evbr_tim );

ALTER TABLE ugovor_igrača
    ADD CONSTRAINT ugovor_igr_fudbalski_klb_fk FOREIGN KEY ( evbr_klb )
        REFERENCES fudbalski_klub ( evbr_klb );

ALTER TABLE ugovor_igrača
    ADD CONSTRAINT ugovor_igrača_igrač_fk FOREIGN KEY ( mbr_igr )
        REFERENCES igrač ( mbr_igr );

ALTER TABLE ugovor_igrača
    ADD CONSTRAINT ugovor_igrača_kategorija_fk FOREIGN KEY ( ozn_kat )
        REFERENCES kategorija ( ozn_kat );

ALTER TABLE ugovor_igrača
    ADD CONSTRAINT ugovor_igrača_tim_fk FOREIGN KEY ( evbr_tim )
        REFERENCES tim ( evbr_tim );

ALTER TABLE utakmica
    ADD CONSTRAINT utakmica_liga_fk FOREIGN KEY ( ozn_lig )
        REFERENCES liga ( ozn_lig );

ALTER TABLE utakmica
    ADD CONSTRAINT utakmica_stadion_fk FOREIGN KEY ( ozn_std )
        REFERENCES stadion ( ozn_std );

ALTER TABLE utakmica
    ADD CONSTRAINT utakmica_učestvuje_fkd FOREIGN KEY ( evbr_timd,
                                                        ozn_lig )
        REFERENCES učestvuje ( evbr_tim,
                               ozn_lig );

ALTER TABLE utakmica
    ADD CONSTRAINT utakmica_učestvuje_fkg FOREIGN KEY ( evbr_timg,
                                                        ozn_lig )
        REFERENCES učestvuje ( evbr_tim,
                               ozn_lig );

ALTER TABLE zaposleni
    ADD CONSTRAINT zaposleni_fudbalski_klub_fk FOREIGN KEY ( evbr_klb )
        REFERENCES fudbalski_klub ( evbr_klb );
